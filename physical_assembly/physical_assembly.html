<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Microscope Assembly &mdash; COMPASS  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="System Characterization" href="../system_characterization/system_characterization.html" />
    <link rel="prev" title="Design Process" href="../design_principles/design_process.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            COMPASS
              <img src="../_static/compass.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction/background.html">Overview of Subcellular Light-Sheet Microscope Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design_principles/required_software.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/index.html">Room and Hardware Considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design_principles/design_process.html">Design Process</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Microscope Assembly</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#illumination-path">Illumination Path</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mounting-lenses">Mounting Lenses</a></li>
<li class="toctree-l3"><a class="reference internal" href="#initial-laser-collimation-and-alignment">Initial Laser Collimation and Alignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mounting-of-optic-posts">Mounting of Optic Posts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mounting-of-optics">Mounting of Optics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#final-alignment-adjustments">Final Alignment Adjustments</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#detection-path">Detection Path</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#detection-path-assembly">Detection Path Assembly</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detection-path-positioning">Detection Path Positioning</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#optomechanics">Optomechanics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#visualization-of-axes-mapping">Visualization of Axes Mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-piezo-angle-mount">The Piezo Angle Mount</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample-holder-design">Sample Holder Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="#assembling-the-magnetic-sample-mount">Assembling the Magnetic Sample Mount</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#optoelectronics">Optoelectronics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#wiring-diagram">Wiring Diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="#piezo-setup-troubleshooting">Piezo Setup &amp; Troubleshooting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../system_characterization/system_characterization.html">System Characterization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../imaging/imaging.html">Imaging Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../imaging/imaging.html#image-stack-processing">Image Stack Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../future/index.html">Future Releases</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">COMPASS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Microscope Assembly</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/physical_assembly/physical_assembly.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="microscope-assembly">
<span id="assembly-home"></span><h1>Microscope Assembly<a class="headerlink" href="#microscope-assembly" title="Permalink to this heading"></a></h1>
<p>A breakdown spreadsheet of all components used in this build is viewable under the COMPASS Base tab
<a class="reference external" href="https://365utsouthwestern-my.sharepoint.com/:x:/g/personal/john_haug_utsouthwestern_edu/EanyUn-KA9JFlo4WwGfxktcBnvZMAhbmhdd7LOCfLSL5bQ?e=NZO83I">here</a>:</p>
<section id="illumination-path">
<h2>Illumination Path<a class="headerlink" href="#illumination-path" title="Permalink to this heading"></a></h2>
<p>Our baseplate design was made with ease of assembly in mind. The basic process involves aligning Polaris posts with
dowel pins and screwing them using 1/4”-20 Screws in at the predetermined hole locations on the breadboard.
This general process is depicted below:</p>
<figure class="align-center" id="id3">
<img alt="General process for baseplate assembly" src="../_images/BaseplateAssembly.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 1:</strong> General process for baseplate assembly</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>To either mount the baseplate onto an optical table or onto separate posts, the process is similar in that
just requires screwing 1/4”-20 screws into either an optical breadboard or onto separate posts at the four corner
holes. For our system, we opted to mount our illumination baseplate on 1.5” tall <a class="reference external" href="https://www.thorlabs.com/newgrouppage9.cfm?objectgroup_id=851">1” diameter Thorlabs pedestal posts</a>. As a general note, having the illumination path
elevated instead of affixed directly into the table is both helpful to enable access to mounting and unmounting the
illumination optics as well as ensuring that the illumination objective and detection objective are able to be
aligned vertically with each other.</p>
<figure class="align-center" id="id4">
<img alt="General process to place posts on baseplate corners" src="../_images/BaseplateAssembly_Corners.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 2:</strong> General process to place posts on baseplate corners</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<section id="mounting-lenses">
<h3>Mounting Lenses<a class="headerlink" href="#mounting-lenses" title="Permalink to this heading"></a></h3>
<p>Mounting lenses into a Polaris lens mount and onto an associated post is a fairly straightforward process. The
general flow is shown in the image below, where first the flatter face of the desired lens should be placed such that
it is touching the metal boundary on the lens mount itself. Then the lens should be fixed into place by screwing the
lock screw on the top of the lens mount. With the lens secured in the mount, then two dowel pins should be placed in
the appropriate holes on the Polaris post, and then the lens mount should be placed such that the two holes on the
lens mount align with the pins on the Polaris post. Then the lens mount should be anchored into place by screwing it
into the Polaris post. Additional information can be found at <a class="reference external" href="https://www.thorlabs.com/newgrouppage9.cfm?objectgroup_id=10056">Thorlabs</a>.</p>
<figure class="align-center" id="id5">
<img alt="General process for mounting a lens into a Polaris holder and onto a post" src="../_images/LensMounting.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 3:</strong> General process for mounting a lens into a Polaris holder and onto a post</span><a class="headerlink" href="#id5" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="initial-laser-collimation-and-alignment">
<h3>Initial Laser Collimation and Alignment<a class="headerlink" href="#initial-laser-collimation-and-alignment" title="Permalink to this heading"></a></h3>
<p>When first assembling the system, ensuring proper output collimation from the fiber laser source is critical. There are multiple checks that one can take for this step, but we utilize a combination of a shear-plate interferometer (<a class="reference external" href="https://www.thorlabs.com/newgrouppage9.cfm?objectgroup_id=2970">https://www.thorlabs.com/newgrouppage9.cfm?objectgroup_id=2970</a>) and two pinhole apertures placed at opposite ends along the length of the baseplate. Shear-plate interferometers are designed to split and interfere an input beam of coherent light, such that when the beam is collimated there are interference fringes aligned vertically with a reference line. The fiber laser collimator we used for this system is the Thorlabs CFC11A-A (<a class="reference external" href="https://www.thorlabs.com/thorproduct.cfm?partnumber=CFC11A-A">https://www.thorlabs.com/thorproduct.cfm?partnumber=CFC11A-A</a>), which features an adjustable barrel which controls the position of collimation optics within the element.</p>
<p>The basic assembly process involves first inserting and fixing the CFC11A-A into a Thorlabs AD15S2 adapter, which allows it to then be mounted into a 2.5” Polaris K1XY mount. This assembly is then mounted onto the respective Polaris post at the start of the baseplate. The fiber laser source is then able to be directly mounted into the CFC11A-A, making sure that the protrusion on the fiber wire aligns with the open section of the CFC11A-A port. The basic process of ensuring collimation then involves turning on the laser source, and placing the shear-plate interferometer such that the input port aligns with the output of the laser unit. Then, by slowly adjusting the barrel of the CFC11A-A and observing the interference fringe orientations along the top display of the interferometer, one is able to adjust the beam until it is properly collimated.</p>
<figure class="align-center" id="id6">
<img alt="Shear Plate interferometer and collimator lens" src="../_images/LaserAlignment1.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 4:</strong> Shear Plate interferometer and collimator lens</span><a class="headerlink" href="#id6" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>With the beam collimated, the process of beam alignment involves adjusting the position control knobs on the K1XY to have the beam pass through two pinhole apertures along the optical path. The height of the initial laser output is designed to be at 3.75” above the top surface of the baseplate, so selecting appropriate post heights for the apertures such that their centers rest at 3.75” is essential. In our case, we use Thorlabs ID12 pinhole apertures (<a class="reference external" href="https://www.thorlabs.com/thorproduct.cfm?partnumber=ID12">https://www.thorlabs.com/thorproduct.cfm?partnumber=ID12</a>), so using a post height of 3.25” will ensure that they are at the proper height for alignment. We designed a <a class="reference external" href="https://github.com/TheDeanLab/COMPASS/tree/main/downloads/common/cad">custom ID12 to Polaris adapter</a> to ensure the aperture is at the proper height and properly aligned along the designated Polaris axis. When using this method, the ID12 to Polaris Adapters can just be directly mounted onto the holes designated for L1 and the Illumination Objective, depicted below, to cover the length of the baseplate. With the pinholes placed, the process becomes iterative by making small adjustments on the K1XY tip/tilt knobs and XY position screws until the beam passes through both pinholes.</p>
<figure class="align-center" id="id7">
<img alt="Performing beam alignment across the baseplate" src="../_images/LaserAlignment2.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 5:</strong> Performing beam alignment across the baseplate</span><a class="headerlink" href="#id7" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="mounting-of-optic-posts">
<h3>Mounting of Optic Posts<a class="headerlink" href="#mounting-of-optic-posts" title="Permalink to this heading"></a></h3>
<p>After ensuring basic collimation and alignment of the laser system, the next step is mounting the appropriate polaris
post size for each optical element in the system. The overall breakdown of which size posts went with each hole
location is listed below. Where holes (3),(4), and (10) are placements for optional elements in the system. (3) is
meant for the placement of an adjustable pinhole aperture, where the same ID12 to Polaris Adapter system used in
the alignment step can be placed. Otherwise a 0.5” post holder can be placed here, and then the ID12 or ones pinhole
aperture of choice can be mounted on a 0.5” post. (4) is dedicated placement for an electronic shutter in the event
that the laser being used for the system isn’t directly controlled via a computer, and helps to ensure that laser
light is not photobleaching a sample unless imaging is taking place. (10) is dedicated space for a neutral density
(ND) filter, in the event that the power of the laser used needs additional reduction not directly addressable
through the laser controls itself.</p>
<figure class="align-center" id="id8">
<img alt="Schematic of which holes use which post heights" src="../_images/PostHeightBreakdown_Updated.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 6:</strong> Schematic of which holes use which post heights</span><a class="headerlink" href="#id8" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="mounting-of-optics">
<h3>Mounting of Optics<a class="headerlink" href="#mounting-of-optics" title="Permalink to this heading"></a></h3>
<p>With the posts in place, the next step involves mounting the optics elements themselves onto the posts. When mounting elements (6), the VA100 rectangular aperture, and (7), the RSP1 rotation mount, it should be noted that the corresponding element should first be fixed onto their respective Polaris adapter and then onto the Polaris posts. In addition, take measures to mount the 45 degree mirror (9) fully prior to mounting the resonant galvo to ensure that the galvo is not accidentally hit during installation of the 45 degree mirror.</p>
<p>To construct the 45 degree mirror assembly, first mount the Polaris K1S4 onto the Polaris-MA45 45 degree mounting adapter, and then place a 1” diameter mirror into the K1S4 and secure it using the K1S4 mounting screw.</p>
<p>To construct the illumination objective assembly, first mount the Polaris 1XY onto its respective 1.5” post. The threading of the 1XY (SM1) does not match that of our illumination objective used (M25x0.75), so an SM1A12 adapter must first be installed onto either the 1XY or the illumination objective. Then, the objective can be mounted onto
the 1XY.</p>
</section>
<section id="final-alignment-adjustments">
<h3>Final Alignment Adjustments<a class="headerlink" href="#final-alignment-adjustments" title="Permalink to this heading"></a></h3>
<p>Once all the optics have been properly mounted, the final step for ensuring a working illumination path is to center
the beam after the 45 degree mirror onto the center of back lens surface of the illumination objective. The primary
method of doing this is through adjusting the xy tip/tilt knobs on the K1S4 Polaris mount that houses the 45 degree
mirror.</p>
</section>
</section>
<section id="detection-path">
<h2>Detection Path<a class="headerlink" href="#detection-path" title="Permalink to this heading"></a></h2>
<section id="detection-path-assembly">
<h3>Detection Path Assembly<a class="headerlink" href="#detection-path-assembly" title="Permalink to this heading"></a></h3>
<p>Our detection path consists of our Nikon N25X-APO-MP detection objective, hamamatsu ORCA Flash4.0 V3 Camera, ASI
C60-TUBE-400 tube lens, and ASI FW-0002-8 8-position filter wheel unit. These components are mounted together and
affixed onto an ASI LS-100-AMCCH translation stage for focus control. We currently use a prototype detection path
baseplate (available here) as a mounting stage for these elements and the sample chamber; however, this additional
baseplate is still undergoing design iterations and is not critical for a functional detection path.</p>
<p>We utilize two additional custom adapter elements in the construction of the detection path: a shell casing around
the tube lens that mounts to the translation stage and an adapter for the translation stage to mount it to an optical
breadboard table. The height thicknesses of these elements were chosen such that the height of the detection
objective center should match that of the illumination objective (which with the 1.5” tall posts our illumination
baseplate rests on is 4.75” above the optical table surface). These elements can be custom machined if desired;
however, we have found 3D printed PLA variants to perform their functions effectively as well.</p>
<p>The assembly of the detection path begins with the translation stage and it’s associated breadboard adapter
(available here in two variants, based on whether or not one is using the 0.5” thick detection path baseplate):</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Turn the translation stage upside-down</p></li>
<li><p>Place the breadboard adapter upside-down on top of the inverted translation stage (such that the raised
platform of the adapter is touching the bottom side of the translation stage)</p></li>
<li><p>Align the recesses on the bottom of the adapter with the holes on the bottom of the translation stage</p></li>
<li><p>Fix the adapter onto the translation stage by screwing M6 screws into the recesses aligned with the
translation stage holes.</p></li>
</ol>
</div></blockquote>
<figure class="align-center" id="id9">
<img alt="Schematic of the translation stage breadboard adapter" src="../_images/TSBBAdapter.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 7:</strong> Schematic of the translation stage breadboard adapter</span><a class="headerlink" href="#id9" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The next step is flipping the translation stage assembly right side up again, and then fixing the first of two halves
of the tube lens adapter onto the top of the translation stage:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Place the tube lens adapter half onto the top of the translation stage such that the block with two sets of
five recessed holes is touching the top of the translation stage.</p></li>
<li><p>Align the Recess holes on the adapter with the holes on the top of the translation stage.</p></li>
<li><p>Fix the adapter onto the translation stage by screwing M6 screws into the aligned recess holes</p></li>
</ol>
</div></blockquote>
<figure class="align-center" id="id10">
<img alt="Schematic of the tube lens to translation stage adapter" src="../_images/TubeAdapter.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 8:</strong> Schematic of the tube lens to translation stage adapter</span><a class="headerlink" href="#id10" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<dl class="simple">
<dt>Next, we’ll focus on assembling the tube lens and filter wheel:</dt><dd><ol class="arabic simple">
<li><p>Take the MIM to Filter wheel adapter and fix it onto the front port of the filter wheel using the associated
screw ports</p></li>
<li><p>With the adapter fixed, now screw the 400 mm tube lens into the adapter.</p></li>
</ol>
</dd>
</dl>
<figure class="align-center" id="id11">
<img alt="Schematic of the filter wheel port for the tube lens" src="../_images/FW.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 9:</strong> Schematic of the filter wheel port for the tube lens</span><a class="headerlink" href="#id11" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<dl class="simple">
<dt>In order to fix our detection objective onto the tube lens, we must first prepare an extension and threading adapter:</dt><dd><ol class="arabic simple">
<li><p>Take the C60-EXT-15 15 mm Tube extension piece and place the RAO-0051 M32x0.75 threaded sleeve inside</p></li>
<li><p>Using the screws on the top of the extension piece, fix the threaded sleeve in place</p></li>
<li><p>Insert/screw the extension piece into the front of the tube lens.</p></li>
</ol>
</dd>
</dl>
<figure class="align-center" id="id12">
<img alt="Showcase of the screws used to secure the thread adapter for the tube lens" src="../_images/Threadadapter.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 10:</strong> Showcase of the screws used to secure the thread adapter for the tube lens</span><a class="headerlink" href="#id12" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<dl class="simple">
<dt>The tube lens assembly is now ready to be fixed onto the translation stage assembly:</dt><dd><ol class="arabic simple">
<li><p>Place the tube lens assembly such that the tube lens lies within the curved region of the tube lens adapter</p></li>
<li><p>While there isn’t an exact science to the relative placement of the tube within the adapter, try to position
it such that more of the tube is extended out on the side where the objective will be mounted (our setup is shown
below for reference).</p></li>
<li><p>Place the second half of the tube lens adapter such that the curved side fits onto the lube lens and position
it such that the holes of both halves of the adapter align with each other.</p></li>
<li><p>Using your choice of either M6 or 1/4”-20 screws and associated washers/nuts, place the screws with a washer
placed on them first into the aligned holes of the adapter. We used 4 of the adapter holes on each side, but
more can be used for extra security if desired.</p></li>
<li><p>Screw a washer onto each of the screws until they’re secured against the bottom lip of the adapter.</p></li>
</ol>
</dd>
</dl>
<figure class="align-center" id="id13">
<img alt="Example of tube lens mounted in the corresponding adapter" src="../_images/tubelens2.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 11:</strong> Example of tube lens mounted in the corresponding adapter</span><a class="headerlink" href="#id13" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The detection path assembly can now be fixed into place onto either the detection path baseplate or the optical
table, keep in mind this process is meant to essentially place the unit in the ballpark of where it should be, finer
adjustments will be made afterwards:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Using the mounting holes on the translation stage assembly, place the assembly such that the edge of the
translation stage adapter facing the illumination path is roughly 9-10” away from the location of the
illumination objective.</p></li>
<li><p>Using the adjacent edge of the translation stage adapter (the one that should be perpendicular to the
orientation of the illumination path), try to align the side of the adapter with the mounting hole of the
illumination objective.</p></li>
<li><p>Screw the translation stage adapter into either the optical table to the detection path baseplate (we
recommend using <a class="reference external" href="https://www.thorlabs.com/newgrouppage9.cfm?objectgroup_id=851">Thorlabs 1” Spacers</a> in place
of washers here)</p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt>With the assembly fixed in place, the camera can then be screwed into the filter wheel:</dt><dd><ol class="arabic simple">
<li><p>Align the front thread of the camera with the back port of the filter wheel</p></li>
<li><p>Screw the camera into the filter wheel until there is resistance</p></li>
<li><p>Slowly adjust the camera tilt until the top surface is leveled (we use a bubble leveling tool for this, shown
below)</p></li>
</ol>
</dd>
</dl>
<figure class="align-center" id="id14">
<img alt="Mounting of the camera" src="../_images/Camerarotation.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 13:</strong> Mounting of the camera</span><a class="headerlink" href="#id14" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The final steps to to assemble the detection path are to screw the detection objective into the front of the tube
lens and attach all associated wires to the camera, filter wheel, and translation stage. If there’s not enough
clearance between the front of the tube lens and the sample chamber to screw in the detection objective, the
translation stage might need to be wired up first and translated backwards manually using either navigate or the
Tiger Control Panel software.</p>
</section>
<section id="detection-path-positioning">
<h3>Detection Path Positioning<a class="headerlink" href="#detection-path-positioning" title="Permalink to this heading"></a></h3>
<p>To position the detection path correctly, there’s two primary steps: Initially ensuring the detection objective slides into the correct port on the fixed sample chamber and then ensuring that the light sheet is centered in the FoV of the camera, typically done by putting  fluorescein into the water-filled chamber.</p>
<dl class="simple">
<dt>Step 1: Ensuring the detection objective slides into the sample chamber port</dt><dd><ol class="arabic simple">
<li><p>It’s recommended to start with your detection path translation stage set far enough back such that there is anywhere from 0.5-1” or more of space between the front of the detection objective and the sample chamber.</p></li>
<li><p>Within navigate or the Tiger Controller software, start to slowly move the objective forward (initially increments of 1000 um should be okay, but as the objective approaches the port the distance should be significantly lowered to 100 um or below to ensure the objective isn’t damaged).</p></li>
<li><p>If the objective isn’t centered properly, the screws/nuts on the translation stage to breadboard adapter (see figure 12) can be loosened slightly and the detection path assembly can be carefully positioned horizontally, taking care that the unit isn’t tilted at an angle going into the objective port, and then re-tightened.</p></li>
</ol>
</dd>
</dl>
<p>Once the detection objective properly translates into it’s port, the tilt alignment can be further refined by slowly translating the detection objective forward towards the illumination objective, taking great care that they don’t touch each other. If there is a significant tilt in the detection path compared to the illumination path, it should be fairly evident in the diagonal space between the objectives (ideally it should look roughly equal in width between the two objectives). As example of the relative position of our objectives when the detection objective is properly placed at the focus of the illumination objective is shown below to give a visual reference for users.</p>
<p>Once the position of the detection objective is acceptable, further refinement of it’s position can be done by first filling the chamber with water and then adding roughly ~100 microliters of f fluorescein into the chamber. Fluorescein  is useful as a visualization tool to be able to see the beam coming out of the illumination objective with the naked eye. With fluorescein in the chamber, the position of the detection objective can be translated to align with the focus of the beam itself (shown below)</p>
<figure class="align-center" id="id15">
<img alt="Physical alignment of the detection objective" src="../_images/objectivealignment.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 14:</strong> Mounting of the camera</span><a class="headerlink" href="#id15" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>With the detection objective roughly in the correct location, further refinement is done by turning on the camera and imaging the fluorescein light-sheet to find the focus by adjusting the focus translation stage in small increments (50 microns for large movements, 1-5 microns for small movements). The goals during this step are to ensure that the detection objective focus is at the focus of the illumination objective, to make sure the light-sheet focus is centered on the image FoV from the camera, and that the light-sheet is aligned vertically in the image FoV.</p>
<p>Step 2: Focus refinement:
Finding the focus is often something that just comes with experience of using the system itself; however, here are some general methods to follow that can help get one’s bearings:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>In general, as the detection objective approaches the light sheet focus, an envelope of light should start to appear (see below), ideally this envelope will be horizontal across the FoV. If it horizontal or has some tilt to it, adjusting the tip/tilt of the 45 degree mirror and the rotation of the cylindrical lens. In addition, ideally this envelope will be centered vertically in the FoV, which can be set by adjusting the y adjustment screw on the illumination objective mount.</p></li>
<li><p>Towards the focus location, a dark vertical region with horizontal striations should appear. Once this region is visible, using small translation distances (~1 um or finer) to find the position that makes both the vertical region and horizontal striations look as sharp as possible should be done.</p></li>
<li><p>If the dark region isn’t centered on the image FoV, adjusting the x and y adjustment screws on the illumination objective mount and making slight horizontal translations on the detection path can help.</p></li>
<li><p>In general doing these adjustments in small increments is helpful, as once adjustments to the various elements may require readjusting the focus translation stage position to keep track of the focus.</p></li>
</ol>
</div></blockquote>
<figure class="align-center" id="id16">
<img alt="Mounting of the camera" src="../_images/FocusFinding.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 15:</strong> Mounting of the camera</span><a class="headerlink" href="#id16" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
<section id="optomechanics">
<h2>Optomechanics<a class="headerlink" href="#optomechanics" title="Permalink to this heading"></a></h2>
<section id="visualization-of-axes-mapping">
<h3>Visualization of Axes Mapping<a class="headerlink" href="#visualization-of-axes-mapping" title="Permalink to this heading"></a></h3>
<p>In our system we have 5 different translation stages at work: the standard x,y, and z axes, an additional stage along the z axis to control the focus of the detection path (f), and and axis associated with the piezo positioned such that its normal is 60.5 degrees away from the y-axis.</p>
<figure class="align-center" id="id17">
<a class="reference internal image-reference" href="../_images/PhysicalAxesMaps1.png"><img alt="Layout of how the axis of the system are mapped" src="../_images/PhysicalAxesMaps1.png" style="width: 220px;" /></a>
<figcaption>
<p><span class="caption-text"><strong>Figure 16:</strong> Layout of how the axis of the system are mapped</span><a class="headerlink" href="#id17" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Coordinate System Differences</strong></p>
<p>The coordinate axes used in <strong>optical simulations</strong> differ from those in the <strong>physical microscope system</strong>
controlled by <strong>navigate</strong>. This discrepancy arises from <strong>standardized axis conventions</strong> in Zemax versus
those historically used in our previous systems. Users should be mindful of this distinction when interpreting
simulation results versus real-world microscope operation. The differences are illustrated below:</p>
<img alt="Difference in coordinate axes for simulation and physical setup" class="align-center" src="../_images/CoordinateSchemeChange1.png" />
</div>
</section>
<section id="the-piezo-angle-mount">
<h3>The Piezo Angle Mount<a class="headerlink" href="#the-piezo-angle-mount" title="Permalink to this heading"></a></h3>
<p>We designed a custom angled mount for our <a class="reference external" href="https://piezoconcept-store.squarespace.com/1-axis/p/hs1">Piezoconcept HS1 piezo</a> in order to be able to scan our sample easily between our two objectives by translating a single motorized unit (in this case the piezo), instead of having to calculate and program the movement of two translation stages in tandem for both the y and z directions. The anatomy of our angled mount is broken down in the figure below, where there are four translation stage mounting holes to attach the unit to an ASI translation stage, nine Piezo mounting holes that correspond to the mounting scheme of our piezo unit, as well as four through-holes and a window for ease of access for the mounting process. We provide the CAD files for this mount <a class="reference external" href="https://github.com/TheDeanLab/COMPASS/tree/main/downloads/common/cad">here</a>, and have had success in using both 3D printed and aluminum machined versions of the unit. It’s recommended to first mount the angle mount onto the translation stage unit before mounting the piezo on the angle mount to ensure access to all the through-holes.</p>
<figure class="align-center" id="id18">
<img alt="Breakdown of our custom angle piezo angle mount" src="../_images/AnglemountAnatomy.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 17:</strong> Breakdown of our custom angle piezo angle mount.</span><a class="headerlink" href="#id18" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>The installation of our custom angled piezo mount is designed to be directly compatible with ASI translation stages. ASI translation stages feature M6 hole pairs that are spaced along the length of the translation stage at intervals dependent on the specific stage one is using. The mounting process involves aligning these 4 holes with 4 of the M6 holes on the translation stage and screwing them in. For ease of screwing in the base, there are four through holes on the angled face of the mount shown in B that a screwdriver is able to pass directly through to screw as shown in C. An alternative method of mounting is shown in D, where the window on the back of the angle mount is able to be screwed through as well.</p>
<figure class="align-center" id="id19">
<img alt="General process for mounting our piezo angle mount onto an ASI translation stage" src="../_images/Anglemount.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 18:</strong> General process for mounting our piezo angle mount onto an ASI translation stage</span><a class="headerlink" href="#id19" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="sample-holder-design">
<h3>Sample Holder Design<a class="headerlink" href="#sample-holder-design" title="Permalink to this heading"></a></h3>
<p>Our sample holder design is built for imaging cells on a <a class="reference external" href="https://www.fishersci.com/shop/products/5mm-cover-slip-german-glass/50949439">5 mm coverslip</a>, and is shown below. The design features a clamp-like method of securing the 5 mm coverslip in place, where the coverslip rests in an inset region and the clamp is screwed in via an M1.6 screw in the back of the holder. All associated files for this design and other custom parts can be found <a class="reference external" href="https://github.com/TheDeanLab/COMPASS/tree/main/downloads/common/cad">here</a>.</p>
<figure class="align-center" id="id20">
<img alt="5 mm coverslip sample holder design" src="../_images/S_SampleHolderAssembly.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 19:</strong> 5 mm coverslip sample holder design.</span><a class="headerlink" href="#id20" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="assembling-the-magnetic-sample-mount">
<h3>Assembling the Magnetic Sample Mount<a class="headerlink" href="#assembling-the-magnetic-sample-mount" title="Permalink to this heading"></a></h3>
<p>As a safeguard for the risk of the sample crashing into either the illumination or detection objective during sample positioning or imaging, we opted to incorporate a magnetic mount for our sample holder. We use a Thorlabs KBT1X1T and KBB1X1 as our magnetic mount pair, and then mount our sample holder onto the KBT1X1T using a  <a class="reference external" href="https://github.com/TheDeanLab/COMPASS/tree/main/downloads/common/cad">custom adapter</a>. The KBB1X1 is affixed to the piezo using an M2.5 screw, and using a small leveling tool (shown below) during this step is helpful to ensure that the magnetic base is mounted as level as possible for the imaging process.</p>
<figure class="align-center" id="id21">
<img alt="Basic assembly of magnetic sample holder mount" src="../_images/MagneticMountSampleHolder.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 20:</strong> Basic assembly of magnetic sample holder mount</span><a class="headerlink" href="#id21" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
<section id="optoelectronics">
<h2>Optoelectronics<a class="headerlink" href="#optoelectronics" title="Permalink to this heading"></a></h2>
<section id="wiring-diagram">
<h3>Wiring Diagram<a class="headerlink" href="#wiring-diagram" title="Permalink to this heading"></a></h3>
<p>Our complete microscope assembly features a variety of different optoelectrical and optomechanical elements. These
elements are primary controlled via our NI DAQ (PXIe-6738) or our ASI Tiger Controller (TG16-BASIC), which are then
controlled via navigate during the imaging process. The diagram below depicts how these elements are wired together,
as well as an individual pinout designation table for the pin configurations we used on our DAQ.</p>
<figure class="align-center" id="id22">
<img alt="Wiring diagram for the Tiger Controller, DAQ, and associated elements." src="../_images/Wiring3_Plustable.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 21:</strong> Wiring diagram for the Tiger Controller, DAQ, and associated elements.</span><a class="headerlink" href="#id22" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="piezo-setup-troubleshooting">
<h3>Piezo Setup &amp; Troubleshooting<a class="headerlink" href="#piezo-setup-troubleshooting" title="Permalink to this heading"></a></h3>
<p>On the PCI Board, connect the positive and negative wires  to the corresponding analog output (AO) you want, in our case
we used AO 0, so we connected the positive wire to pin 10 and the ground to pin 11, then plug the BNC cable connected to
those wires into the EXT IN input on the Tiger controller panel corresponding to the piezo.</p>
<figure class="align-center" id="id23">
<img alt="How to find the Device Pinout panel" src="../_images/DevicePinouts.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 22:</strong> How to find the Device Pinout panel in NI MAXX.</span><a class="headerlink" href="#id23" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Plug the piezo cable into the PIEZO input on the Tiger controller panel corresponding to the piezo, and verify the range of the piezo in the Tiger Controller software:</p>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text">Verifying Piezo Range in Tiger Controller Software</span><a class="headerlink" href="#id24" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span># Verify the range of the piezo in the Tiger controller software
5 cca x?

# Example output:
:A  Q:P1
23 P 1 100um RANGE
24 P 2 200um RANGE
35 P S 150um RANGE
36 P 3 300um RANGE
37 P 5 500um RANGE
34 P f 50um RANGE
25 P 4 350um RANGE:N-4
</pre></div>
</div>
</div>
<p>This tells us that our Piezo (Panel 5/Q) corresponded to P1 or a 100 um range, but ASI requires the piezo needed to be
set to  a 50 um range to be able to be initialized instead. To change this, we used the command <code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">cca</span> <span class="pre">x</span> <span class="pre">=</span> <span class="pre">34</span></code> and
power cycled the controller. Once the controller was powered back on, we verified the range again with the <code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">cca</span> <span class="pre">x?</span></code></p>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-text">Verifying Piezo Range in Tiger Controller Software</span><a class="headerlink" href="#id25" title="Permalink to this code"></a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span># Verify the range of the piezo in the Tiger controller software
5 cca x?

# Example output:
:A  Q:Pf
...
</pre></div>
</div>
</div>
<p>Now we can see that the piezo is set to the correct range (Pf). With that verified, now confirm that the voltage output from the PCI Board is working:</p>
<div class="line-block">
<div class="line">1. Put the BNC cable input currently in EXT IN on the Tiger control panel into the input of the oscilloscope instead.</div>
<div class="line">2. Go to the test panels for the PCI board in NI MAX.</div>
</div>
<figure class="align-center" id="id26">
<img alt="How to find the Test Panels panel" src="../_images/TestPanels.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 23:</strong> How to find the Test Panels panel in NI MAXX.</span><a class="headerlink" href="#id26" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="line-block">
<div class="line">3. Set the voltage mode to sinewave generation.</div>
<div class="line">4. Set the voltage range to be between 0 to 10 V.</div>
<div class="line">5. Set the frequency to a desired value (we ended up setting it pretty high at 10000 Hz for ease of viewing on the oscilloscope).</div>
</div>
<figure class="align-center" id="id27">
<img alt="How to find the Test Panels panel." src="../_images/TestPanelConfiguration.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 24:</strong> How to generate analog output voltages with NI MAXX for testing purposes.</span><a class="headerlink" href="#id27" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>With the voltage output of the PCI board verified, plug the PCI Board voltage cable output back into the EXT IN slot and
verify that the position output of the Piezo reads similarly on the oscilloscope:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Plug a BNC Cable into the SENSOR OUT connection on the tiger controller panel.</p></li>
<li><p>Plug the other end of that cable into the oscilloscope.</p></li>
<li><p>Verify that a sinewave output is seen on the oscilloscope.</p></li>
</ol>
</div></blockquote>
<p>If the PCI Board voltage is working as intended but the piezo position output doesn’t seem to work, try ensuring that
the piezo is set in <a class="reference external" href="https://asiimaging.com/docs/commands/pm">External Input mode, and not Controller Input mode</a>:</p>
<blockquote>
<div><ol class="arabic simple">
<li><dl class="simple">
<dt>Use the <code class="docutils literal notranslate"><span class="pre">PM</span> <span class="pre">Q?</span></code> (Our piezo corresponds to Q) command:</dt><dd><ul class="simple">
<li><p>the output was <code class="docutils literal notranslate"><span class="pre">Q</span> <span class="pre">=</span> <span class="pre">0</span></code> originally, telling us that it’s in Controller Input mode</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Use the <code class="docutils literal notranslate"><span class="pre">PM</span> <span class="pre">Q</span> <span class="pre">=</span> <span class="pre">1</span></code> command to set the piezo into External Input mode:</dt><dd><ul class="simple">
<li><p>now the output of <code class="docutils literal notranslate"><span class="pre">PM</span> <span class="pre">Q?</span></code> is <code class="docutils literal notranslate"><span class="pre">Q</span> <span class="pre">=</span> <span class="pre">1</span></code></p></li>
</ul>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
<p>Another important step is to ensure that the configuration file associated with navigate is appropriately set up for your piezo. This involves setting the correct axis and voltage-to-distance mapping for the piezo. As an example our configuration file for navigate looks like the following for setting up our piezo:</p>
<figure class="align-center" id="id28">
<img alt="Navigate configuration file for the piezo." src="../_images/Piezo_Config.png" />
<figcaption>
<p><span class="caption-text"><strong>Figure 25:</strong> Navigate configuration file for the piezo.</span><a class="headerlink" href="#id28" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../design_principles/design_process.html" class="btn btn-neutral float-left" title="Design Process" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../system_characterization/system_characterization.html" class="btn btn-neutral float-right" title="System Characterization" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Dean Lab, UT Southwestern Medical Center.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>